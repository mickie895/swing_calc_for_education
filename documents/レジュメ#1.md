---
title: Javaプログラムの練習
subtitle: Swingを使ったGUIの作成
author: ミッキー
date: 2021/09/07
---

# アジェンダ

## Javaでアプリを開発する
* 基礎知識
* 開発環境の構築
* 課題
  * ストレッチゴール

# 基礎知識

## 基礎知識
* そもそもJavaって？
* なんで「オブジェクト指向」？
* プログラム複雑化の例：ポケモン

# そもそもJavaって？

## Javaとは？
* 現在メジャーな開発言語の一つ
  * 有名ドコロだとMinecraftとかで使われている。
  * OSや環境にとらわれないソフトが作れる。
    * ただしOSの標準に合わせた統一感のあるUIは難しい。
  * C++をベースに<u>オブジェクト指向</u>の考え方でプログラムを作る。

# なんでオブジェクト指向？

## プログラムが複雑になることへの対応
* 考えなくて良い部分を増やせばそれだけ管理が楽になる
* 新しい機能の作成が楽になる

## プログラムが複雑になる例：ポケモン

# ポケモンで見るプログラムの複雑さ

# 初代ポケモン
## ポケモンのステータス
  * 種族値
  * 個体値
  * 努力値

## ポケモンのわざ
  * 威力
  * 命中
  * PP
  * 特殊効果(一撃必殺、ステータス変化etc...)

# 現在のポケモン
## ポケモンのステータス
* 種族値
* 個体値
* 努力値
* なつき値
* 性別
* 特性
* 性格
* もちもの
* メガシンカ先
* キョダイマックス先
* ……

## ポケモンのわざ
* 威力
* 命中
* PP
* 特殊効果(一撃必殺、ステータス変化etc...)
* Z技化
* 大マックス技化
* キョダイマックス技化
* ……

# 開発環境の構築

## 開発環境の構築手順

* 開発環境の選定
* GUI作成ツールの選択
* Eclipseの環境構築
  * Eclipse本体のインストール
  * Swingのインストール

# 利用可能な開発環境

## 開発環境候補
* Eclipse
  * 無料
  * 20年前に開発が始まったソフトのため、過去を引きずって使いづらいこともある
  * インストーラが巨大
  * 一応デファクトスタンダード
  * 日本語化情報も豊富
  * どれだけスペックが高くても動作が重い(気がする)
* IntelliJ IDEA
  * 本格的に使おうとしたら有料
  * 比較的新しいIDEのため、使いやすい
  * 無料版で日本語化できるかは不明
* Visual Studio Community Edition(参考)
  * 個人利用であれば無料
  * IDE周りもある程度洗練されている。
  * 日本語も対応
  * そもそも使える言語がJavaじゃなくてC#
    * 個人的にはC#の方が使いやすいと思う。

今回は**Eclipse**を使用する

# GUI作成ツールの選択

## JavaのGUI作成ツール
* Java FX
* Swing

## Swingを選択
* UIの配置方法が少し古いが、オブジェクト指向の考え方がわかりやすいため

# UIでみる「オブジェクト指向」

## 「押したらなにか反応を返す、テキストの書かれたUIの部品」
* ボタン
* メニュー
* ラジオボタン
* チェックボタン
* などなど…


共通の要素を一箇所で実装することにより、知識の重複を防ぎ、管理を楽にする

# Eclips本体のインストール

## All in Oneをインストールしよう
* 下記アドレスにアクセスしてダウンロード
* https://mergedoc.osdn.jp/
* 最新版→Full Edition→Ultimateを選択すればOK
  * TODO：Chrome OSでの開発環境構築方法調査
* 適当な場所に展開して起動する
  * ```pleiades\eclipse\eclipse.exe```

![最新版を選択](select_new.png)

![全部入りをダウンロード](download_eclipse.png)

# Swingのインストール

## インストール方法
* eclipseを起動したらヘルプ→新規ソフトウェアのインストールを選択
* 作業対象から一番新しい月のアドレス(多分画面と一緒)を選択
* swingと書かれたツール(両方)をインストール

![表示画面](swing-get.png)

# 課題

# 電卓を作ってみよう

## 電卓とは？
*  ユーザがボタンから数値を入力し、計算するシステム
*  ……説明いる？
*  WindowsならWindowsキーとRキーを押して、calcって入力してEnterを押せばいいと思う。

![電卓](calc.png)

# 選べる難易度

## いくつか難易度を用意してみました。
* 超初心者級
* 初心者級
* 中級者級
* オブジェクト指向プログラマ級
* 無駄に全力級

# 要求仕様

## 今回の要求事項
* 整数4桁の四則演算ができる(～初心者)
  * 整数9桁の四則演算ができる(中級者～)
  * 小数の四則演算ができる(追加ゴール)
* 2つの数値だけ考えれば良いので四則演算の優先度は考えない
* 適切なエラー処理を考えること(何がエラーになるか考えてみよう)

# GUIの考え方

## イベントドリブン
* GUIのパーツにアクションを起こしたときの「イベント」を登録できる
* イベントが発生したときの処理をイベントリスナーとして作成し、パーツに登録する

# 超初級者用スターターセット

## githubにスターターキットを用意
* ボタンとテキストボックスを準備
  * ボタンを押すとテキストボックスに文字を表示

ある程度自分で頑張りたい人はUIの設計から自分でやってみよう

![スターターキット](calc_brank.png)

# 追加ゴール及びヒント1
##整数9桁の四則演算(中級者用)
* 要は「例外を起こさずにint型を表示できるようにする」が目標
* 掛け算の処理に注意

## 小数点の計算について
* 数値をそのままテキストボックスに出力することができなくなる
* 0.0000…を入力したときの挙動を考えよう
* 小数点を使う場合の有効数字はどれぐらいになるだろうか？

# 追加ゴール及びヒント2

## オブジェクト指向を意識してみる
* 「計算部分をそのままにWebアプリ化したい」って言われたときにどうする？
  * どのように設計してある必要があるかを考えよう

# 追加ゴール及びヒント3

## せっかくだし、もっと全力を出してみる
* エラー処理の確かさをテストケースとして単体テスト化できないだろうか
* せっかくだし計算部分をTDDで開発してみる
* 「オブジェクト指向エクササイズ」をやってみる
  * 一つのメソッドにインデントは一個まで
  * elseを使わない
  * 文字列、数値をクラスにラップして使用する
  * 一行に使えるドットは一つ
  * 名前は省略しない
  * 1クラス100行未満
  * 一つクラスの変数は2つまで
  * 配列・リストもクラスにラップして使用する
  * getter・setterを使用しない
